<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhancing ML-Driven Portfolio Construction</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
background-color: #f0f4f8;
color: #1e293b;
}
.chart-container {
position: relative;
width: 100%;
max-width: 600px;
margin-left: auto;
margin-right: auto;
height: 350px;
max-height: 450px;
}
@media (min-width: 768px) {
.chart-container {
height: 400px;
}
}
.kpi-value {
font-size: 2.5rem;
line-height: 1.2;
}
.flowchart-item {
border: 2px solid #6b7280;
transition: all 0.3s ease;
}
.flowchart-arrow {
color: #6b7280;
font-size: 2rem;
line-height: 1;
}
.pyramid-level {
clip-path: polygon(10% 0, 90% 0, 100% 100%, 0% 100%);
padding-top: 1rem;
padding-bottom: 1rem;
}
</style>
</head>
<body class="antialiased">

<div class="container mx-auto p-4 md:p-8">

    <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-[#FF6B6B] mb-4">Enhancing Machine Learning-Driven Portfolio Construction</h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-4xl mx-auto">An infographic distilling advanced data utilization, robust methodologies, and a strategic implementation roadmap for next-generation quantitative analysis.</p>
    </header>

    <section id="market-overview" class="mb-16">
        <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
            <h2 class="text-3xl font-bold text-[#FF6B6B] mb-6 text-center">Data Landscape: A Multi-Scale Market View</h2>
            <p class="text-center text-gray-700 mb-8 max-w-3xl mx-auto">The foundation of our analysis rests on three distinct S&P 500 datasets, each providing a unique temporal lens. This multi-frequency approach is critical for building nuanced models that capture both short-term tactical movements and long-term strategic trends. The varying historical depth necessitates careful integration to avoid lookahead bias and leverage the full potential of the available information.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="bg-[#FFE66D] p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <h3 class="text-2xl font-bold text-gray-800">Weekly Data (SPX_1W)</h3>
                    <p class="text-7xl font-bold text-gray-900 my-4">üìà</p>
                    <p class="text-gray-700 font-semibold">Granularity: 1-Week</p>
                    <p class="text-gray-600">Provides a strategic, long-term perspective on market phases and economic cycles. Ideal for defining broad trend regimes.</p>
                </div>
                <div class="bg-[#4ECDC4] p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <h3 class="text-2xl font-bold text-white">Daily Data (SPX_1D)</h3>
                    <p class="text-7xl font-bold text-white my-4">üìä</p>
                    <p class="text-white font-semibold">Granularity: 1-Day</p>
                    <p class="text-gray-100">Offers a balanced view for identifying medium-term trends and making tactical allocation adjustments.</p>
                </div>
                <div class="bg-[#f7a4a4] p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <h3 class="text-2xl font-bold text-gray-800">Intraday Data (SPX_30)</h3>
                    <p class="text-7xl font-bold text-gray-900 my-4">‚è±Ô∏è</p>
                    <p class="text-gray-700 font-semibold">Granularity: 30-Minute</p>
                    <p class="text-gray-600">Captures intraday volatility, short-term momentum shifts, and the immediate impact of market events.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="key-trends" class="mb-16">
         <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
            <h2 class="text-3xl font-bold text-[#FF6B6B] mb-2 text-center">Leveraging Pre-Calculated Indicators</h2>
             <p class="text-center text-gray-700 mb-8 max-w-3xl mx-auto">The datasets are enriched with a variety of pre-calculated technical indicators from TradingView. Instead of being used as-is, these indicators are transformed into more potent, normalized features. This process extracts more stable signals, quantifies complex market phenomena like trend strength and volatility regimes, and provides the machine learning models with a more robust foundation for decision-making.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl shadow-md">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">Relative Strength Index (RSI) Dynamics</h3>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="rsiChart"></canvas>
                    </div>
                    <p class="text-gray-600 mt-4">This chart visualizes the raw RSI against a smoothed RSI-based Moving Average. The shaded area represents the "RSI Momentum Oscillator" (the difference between the two), a powerful feature that signals acceleration or deceleration in market momentum. Peaks in the oscillator suggest strong buying or selling pressure, providing timely signals for the model.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-md">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">Normalized Volatility with Bollinger Bands</h3>
                     <div class="chart-container h-80 md:h-96">
                        <canvas id="bbChart"></canvas>
                    </div>
                    <p class="text-gray-600 mt-4">We engineer features like Normalized Bollinger Bandwidth and %B. The line chart shows the bandwidth, a measure of relative volatility. A rising bandwidth indicates increasing volatility and potential for significant price moves, while a contracting bandwidth suggests consolidation. This feature helps the model adapt its risk assessment to changing market conditions.</p>
                </div>
            </div>
        </div>
    </section>
    
    <section id="flow" class="mb-16">
        <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
            <h2 class="text-3xl font-bold text-[#FF6B6B] mb-2 text-center">Multi-Timeframe Feature Engineering Flow</h2>
            <p class="text-center text-gray-700 mb-10 max-w-3xl mx-auto">To create a truly comprehensive model, we implement a sophisticated data processing pipeline that combines signals from all three timeframes. This flowchart illustrates how high-frequency data is aggregated and low-frequency data is disaggregated to create a unified, feature-rich daily dataset for the machine learning model, ensuring no lookahead bias is introduced.</p>
            <div class="flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-6">
                <div class="flowchart-item bg-gray-100 p-4 rounded-lg text-center shadow w-60">
                    <h4 class="font-bold text-lg text-gray-800">Intraday Data (30m)</h4>
                    <p class="text-sm text-gray-600">Raw 30-minute OHLCV and indicators</p>
                </div>
                <div class="flowchart-arrow transform md:rotate-0 rotate-90">‚Üí</div>
                <div class="flowchart-item bg-[#FFE66D] p-4 rounded-lg text-center shadow w-60">
                    <h4 class="font-bold text-lg text-gray-800">Downsampling</h4>
                    <p class="text-sm text-gray-600">Aggregate to create daily features like Realized Volatility & Intraday Momentum Counts</p>
                </div>
                <div class="flowchart-arrow transform md:rotate-0 rotate-90">‚Üí</div>
                <div class="flowchart-item bg-[#4ECDC4] p-6 rounded-lg text-center shadow-lg ring-4 ring-[#FF6B6B] w-64">
                    <h4 class="font-bold text-xl text-white">Unified Daily Feature Set</h4>
                    <p class="text-sm text-gray-100">Combined data for ML model training</p>
                </div>
                <div class="flowchart-arrow transform md:rotate-0 rotate-90">‚Üê</div>
                 <div class="flowchart-item bg-[#f7a4a4] p-4 rounded-lg text-center shadow w-60">
                    <h4 class="font-bold text-lg text-gray-800">Upsampling</h4>
                    <p class="text-sm text-gray-600">Forward-fill weekly signals to provide daily context on long-term Trend & Momentum Regimes</p>
                </div>
                <div class="flowchart-arrow transform md:rotate-0 rotate-90">‚Üê</div>
                <div class="flowchart-item bg-gray-100 p-4 rounded-lg text-center shadow w-60">
                    <h4 class="font-bold text-lg text-gray-800">Weekly Data (1W)</h4>
                    <p class="text-sm text-gray-600">Raw weekly OHLCV and indicators</p>
                </div>
            </div>
        </div>
    </section>

    <section id="methodologies" class="mb-16">
        <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
             <h2 class="text-3xl font-bold text-[#FF6B6B] mb-6 text-center">Advanced Portfolio Construction Methodologies</h2>
             <p class="text-center text-gray-700 mb-8 max-w-3xl mx-auto">Moving beyond basic Mean-Variance Optimization, we explore modern techniques that address its practical limitations. These advanced methods offer more robust, diversified, and risk-aware portfolio allocations by better handling input errors and focusing on different aspects of risk and return.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl shadow-md flex flex-col">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Hierarchical Risk Parity (HRP)</h3>
                    <p class="text-gray-600 mb-4 flex-grow">Uses clustering to group assets by correlation, then applies risk parity. It's robust to covariance errors and produces more diversified portfolios without needing matrix inversion.</p>
                    <div class="chart-container h-64 md:h-72 mt-auto">
                        <canvas id="hrpChart"></canvas>
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-md flex flex-col">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Black-Litterman Model</h3>
                    <p class="text-gray-600 mb-4 flex-grow">A Bayesian approach that blends ML-generated return forecasts (as investor "views") with market equilibrium returns. This provides a structured way to combine data-driven signals with stable market priors.</p>
                    <div class="chart-container h-64 md:h-72 mt-auto">
                        <canvas id="blChart"></canvas>
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-md flex flex-col">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">CVaR Optimization</h3>
                    <p class="text-gray-600 mb-4 flex-grow">Focuses on minimizing Conditional Value-at-Risk (Expected Shortfall), directly managing and mitigating tail risk. This is crucial for portfolios where large, infrequent losses are a primary concern.</p>
                    <div class="chart-container h-64 md:h-72 mt-auto">
                        <canvas id="cvarChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
     <section id="roadmap" class="mb-16">
        <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
            <h2 class="text-3xl font-bold text-[#FF6B6B] mb-6 text-center">Prioritized Implementation Roadmap</h2>
            <p class="text-center text-gray-700 mb-8 max-w-3xl mx-auto">The path to a sophisticated ML portfolio system is incremental. This pyramid illustrates a structured, bottom-up approach, starting with a solid data foundation and progressing towards advanced optimization and validation. Each level builds upon the last, ensuring a robust and well-vetted final model.</p>
            <div class="w-full max-w-lg mx-auto flex flex-col-reverse">
                <div class="pyramid-level text-center w-full bg-[#1A535C] text-white" style="margin-left: 0; margin-right: 0;">
                    <h3 class="font-bold text-lg">5. Advanced Portfolio Optimization</h3>
                    <p class="text-sm px-4">Implement HRP, Black-Litterman, or CVaR. Incorporate transaction costs.</p>
                </div>
                <div class="pyramid-level text-center w-11/12 mx-auto bg-[#4ECDC4] text-white" style="margin-bottom: -1px;">
                    <h3 class="font-bold text-lg">4. Refine Model Selection</h3>
                    <p class="text-sm px-4">Evaluate LSTMs/GARCH. Use XAI techniques like SHAP for interpretability.</p>
                </div>
                <div class="pyramid-level text-center w-10/12 mx-auto bg-[#f7a4a4] text-gray-800" style="margin-bottom: -1px;">
                    <h3 class="font-bold text-lg">3. Robust Backtesting</h3>
                    <p class="text-sm px-4">Implement Walk-Forward Optimization. Conduct statistical significance tests.</p>
                </div>
                <div class="pyramid-level text-center w-9/12 mx-auto bg-[#FFE66D] text-gray-800" style="margin-bottom: -1px;">
                    <h3 class="font-bold text-lg">2. Enhanced Feature Engineering</h3>
                    <p class="text-sm px-4">Create derived and multi-timeframe features. Consider fractional differentiation.</p>
                </div>
                <div class="pyramid-level text-center w-8/12 mx-auto bg-[#FF6B6B] text-white" style="margin-bottom: -1px;">
                    <h3 class="font-bold text-lg">1. Data Foundation</h3>
                    <p class="text-sm px-4">Systematic data loading, preprocessing, and NaN handling.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center mt-12 pt-8 border-t border-gray-300">
        <p class="text-gray-500">This infographic synthesizes findings from the "Enhancing Machine Learning-Driven Portfolio Construction" report. All visualizations are generated programmatically for illustrative purposes.</p>
    </footer>
</div>

<script>
    const energeticPlayful = {
        primary: '#FF6B6B',
        secondary: '#4ECDC4',
        accent: '#FFE66D',
        neutral: '#1A535C',
        light: '#f0f4f8',
        darkText: '#1e293b',
        lightText: '#ffffff',
        altAccent: '#f7a4a4'
    };

    const chartFont = {
        family: 'Inter',
        size: 12,
    };
    const chartTitleFont = {
        family: 'Inter',
        size: 16,
        weight: 'bold'
    };

    const tooltipTitleCallback = function(tooltipItems) {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        if (Array.isArray(label)) {
            return label.join(' ');
        } else {
            return label;
        }
    };

    const chartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                labels: {
                    color: energeticPlayful.darkText,
                    font: chartFont
                }
            },
            tooltip: {
                callbacks: {
                    title: tooltipTitleCallback
                }
            }
        },
        scales: {
            x: {
                ticks: {
                    color: energeticPlayful.darkText,
                    font: chartFont,
                },
                grid: {
                    color: 'rgba(0,0,0,0.05)'
                }
            },
            y: {
                ticks: {
                    color: energeticPlayful.darkText,
                    font: chartFont,
                },
                grid: {
                    color: 'rgba(0,0,0,0.1)'
                }
            }
        }
    };
    
    const rsiData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
        datasets: [{
            label: 'Raw RSI',
            data: [65, 59, 80, 81, 56, 55, 40, 52],
            borderColor: energeticPlayful.primary,
            backgroundColor: 'transparent',
            tension: 0.4,
            pointBackgroundColor: energeticPlayful.primary
        }, {
            label: 'RSI-based MA',
            data: [60, 62, 75, 70, 61, 58, 48, 49],
            borderColor: energeticPlayful.secondary,
            backgroundColor: 'transparent',
            tension: 0.4,
            pointBackgroundColor: energeticPlayful.secondary
        },{
            label: 'RSI Momentum Oscillator',
            data: [5, -3, 5, 11, -5, -3, -8, 3],
            backgroundColor: 'rgba(255, 230, 109, 0.5)',
            borderColor: energeticPlayful.accent,
            type: 'bar'
        }]
    };
    new Chart(document.getElementById('rsiChart'), {
        type: 'line',
        data: rsiData,
        options: chartOptions
    });
    
    const bbData = {
        labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025', 'Q2 2025'],
        datasets: [{
            label: 'Normalized BB Width',
            data: [0.05, 0.08, 0.04, 0.06, 0.09, 0.07],
            fill: true,
            borderColor: energeticPlayful.secondary,
            backgroundColor: 'rgba(78, 205, 196, 0.2)',
            tension: 0.3
        }]
    };
    new Chart(document.getElementById('bbChart'), {
        type: 'line',
        data: bbData,
        options: chartOptions
    });

    const hrpData = {
        labels: ['Asset A', 'Asset B', 'Asset C', 'Asset D', 'Asset E', 'Asset F'],
        datasets: [{
            label: 'HRP Allocation',
            data: [18, 15, 22, 10, 20, 15],
            backgroundColor: [
                energeticPlayful.primary,
                energeticPlayful.secondary,
                energeticPlayful.accent,
                energeticPlayful.altAccent,
                '#45B8AC',
                '#FF8C8C'
            ],
            hoverOffset: 4
        }]
    };
    new Chart(document.getElementById('hrpChart'), {
        type: 'doughnut',
        data: hrpData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'top' },
                tooltip: { callbacks: { title: tooltipTitleCallback } }
            }
        }
    });
    
    const blData = {
        labels: ['Market Equilibrium', 'ML View Adjusted'],
        datasets: [{
            label: 'Expected Return',
            data: [6.5, 8.2],
            backgroundColor: [energeticPlayful.altAccent, energeticPlayful.secondary],
            borderColor: [energeticPlayful.primary, energeticPlayful.neutral],
            borderWidth: 2
        }]
    };
    new Chart(document.getElementById('blChart'), {
        type: 'bar',
        data: blData,
        options: { ...chartOptions, indexAxis: 'y' }
    });
    
    const cvarData = {
        labels: ['Standard MVO', 'CVaR Optimized'],
        datasets: [{
            label: 'Expected Shortfall (CVaR)',
            data: [5.2, 3.1],
            backgroundColor: [energeticPlayful.accent, energeticPlayful.primary],
            borderColor: [energeticPlayful.neutral, energeticPlayful.neutral],
            borderWidth: 2
        }]
    };
    new Chart(document.getElementById('cvarChart'), {
        type: 'bar',
        data: cvarData,
        options: chartOptions
    });

</script>
</body>
</html>